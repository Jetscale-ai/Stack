# ==========================================================
# JETSCALE STACK - DEFAULT INTERFACE
# ==========================================================
global:
  env: "production"
  # Used for parity with Jetscale-IaC naming conventions and external entrypoints.
  # Example: "jetscale" (live), "pr-123" (ephemeral)
  client_name: ""
  tenant_id: ""

# ----------------------------------------------------------
# 1. CORE SERVICES
# ----------------------------------------------------------
backend:
  enabled: true
  replicaCount: 1
  image:
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 8000
  resources:
    requests:
      cpu: 100m
      memory: 128Mi

frontend:
  enabled: true
  replicaCount: 1
  image:
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 3000
  resources:
    requests:
      cpu: 100m
      memory: 128Mi

# ----------------------------------------------------------
# 2. INFRASTRUCTURE (Custom Definitions)
# ----------------------------------------------------------
postgres:
  enabled: true
  image: "postgres:15-alpine"
  auth:
    username: "jetscale"
    database: "jetscale"
    password: "change-me"
  # Schema must match infrastructure.yaml (Flat)
  persistence:
    enabled: true
    size: 8Gi

redis:
  enabled: true
  image: "redis:7-bullseye"
  auth:
    enabled: false

# ----------------------------------------------------------
# 3. ROUTING
# ----------------------------------------------------------
ingress:
  enabled: false
  className: ""
  annotations: {}
  hosts:
    - host: chart-example.local
      paths:
        - path: /api
          pathType: Prefix
        - path: /
          pathType: Prefix
  tls: []

# ----------------------------------------------------------
# 4. EXTERNAL ENTRYPOINT (Cloud-agnostic Service)
# ----------------------------------------------------------
apiExternal:
  enabled: false
