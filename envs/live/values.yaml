# ==========================================================
# LIVE ENVIRONMENT (EKS)
# ==========================================================
global:
  env: "live"

# 1. DATABASE
postgres:
  enabled: true
  # Note: The current custom infrastructure.yaml only supports 
  # single-replica. 'replication' is ignored until we switch 
  # to the full Bitnami subchart.
  architecture: standalone 
  auth:
    # In real live, use Secrets store driver or sealed secrets
    username: "jetscale" 
    database: "jetscale"
    password: "live-password-placeholder" 
  persistence:
    size: 50Gi
    storageClass: "gp3"

redis:
  enabled: true
  persistence:
    enabled: true
    size: 5Gi

# 2. BACKEND
backend-api:
  enabled: true
  replicaCount: 3
  image:
    repository: ghcr.io/jetscale-ai/backend
    tag: "latest"
  devMode:
    enabled: false
  resources:
    requests:
      cpu: "1000m"
      memory: "1Gi"
    limits:
      cpu: "2000m"
      memory: "2Gi"

# 3. FRONTEND
frontend-web:
  enabled: true
  replicaCount: 3
  image:
    repository: ghcr.io/jetscale-ai/frontend

# 4. INGRESS
ingress:
  enabled: true
  className: "alb"
  annotations:
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
  hosts:
    - host: "app.jetscale.ai"
      paths:
        - path: /
          pathType: Prefix
